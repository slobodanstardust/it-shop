<!-- Delete alert -->
<div class="alert alert-success alert-dismissible fade show mt-3" role="alert" [style.display]="deleteAlert" *ngIf="deletedProduct">
  <strong>Success!&nbsp;</strong> You've deleted the product with the ID:&nbsp;<strong>{{ clickedProduct._id }}</strong>.
  <button type="button" class="close" aria-label="Close" (click)="dismissAlert('delete')">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<!-- Reset alert -->
<div class="alert alert-success alert-dismissible fade show mt-3" role="alert" [style.display]="resetAlert">
  <strong>Success!&nbsp;</strong> You've reloaded the data.
  <button type="button" class="close" aria-label="Close" (click)="dismissAlert('reset')">
    <span aria-hidden="true">&times;</span>
  </button>
</div>

<table class="table table-striped">
  <thead class="thead-dark">
    <tr>
      <th scope="col" colspan="6" class="text-center">Products</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td scope="col" colspan="1" class="text-center">
        Table size:&nbsp;
        <div class="btn-group btn-group-sm" role="group" aria-label="Pagination buttons">
          <button type="button" class="btn btn-secondary" (click)="changePageSize(5)">5</button>
          <button type="button" class="btn btn-secondary" (click)="changePageSize(10)">10</button>
          <button type="button" class="btn btn-secondary" (click)="changePageSize(15)">15</button>
        </div>
        &nbsp;Current size: {{ parameters.pageSize }}
      </td>
      <td scope="col" colspan="5" class="text-center">
        <div class="btn-group btn-group-sm" role="group" aria-label="Pagination buttons">
          <button type="button" class="btn btn-secondary" (click)="firstPage()" [disabled]="firstDisabled">First</button>
          <button type="button" class="btn btn-secondary" (click)="previousPage()" [disabled]="previousDisabled">Previou</button>
          <button type="button" class="btn btn-info">On page {{ parameters.page }} of {{ pageCount }}</button>
          <button type="button" class="btn btn-secondary" (click)="nextPage()" [disabled]="nextDisabled">Next</button>
          <button type="button" class="btn btn-secondary" (click)="lastPage()" [disabled]="lastDisabled">Last</button>
        </div>
      </td>
    </tr>
  </tbody>
  <thead class="thead-dark">
    <tr>
      <th scope="col">ID</th>
      <th scope="col">Category</th>
      <th scope="col">Brand</th>
      <th scope="col">Name</th>
      <th scope="col">Price</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let item of products">
      <th scope="row" class="align-middle">{{ item._id }}</th>
      <td class="align-middle">{{ item.category }}</td>
      <td class="align-middle">{{ item.brand }}</td>
      <td class="align-middle">{{ item.name }}</td>
      <td class="align-middle">{{ item.price | number }}</td>
      <td class="d-flex flex-row-reverse">
        <div class="btn-group btn-group-sm" role="group" aria-label="Action buttons">
          <button type="button" class="btn btn-info">View</button>
          <button type="button" class="btn btn-warning">Edit</button>
          <button type="button" class="btn btn-danger" data-toggle="modal" data-target="#deleteProduct" (click)="askDelete(item._id)">Delete</button>
        </div>
      </td>
    </tr>
    <tr>
      <td scope="col" colspan="5" class="align-middle">Click 'Reset' button to reload data into the database.</td>
      <td scope="col" colspan="1" class="d-flex flex-row-reverse">
        <div class="btn-group btn-group-sm" role="group" arial-label="Sction buttons">
          <button type="button" class="btn btn-warning" (click)="resetProductsData()">Reset</button>
          <button type="button" class="btn btn-primary" (click)="loadProducts()">Reload table</button>
        </div>
      </td>
    </tr>
  </tbody>
</table>

<!-- Delete modal -->
<div class="modal fade" id="deleteProduct" data-backdrop="static" tabindex="-1" role="dialog" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="staticBackdropLabel">Do you want to delete this product?</h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body" *ngIf="clickedProduct">
        <strong>ID: {{ clickedProduct._id }}</strong><br>
        Name: {{ clickedProduct.brand }} {{ clickedProduct.name }}<br>
        Price: {{ clickedProduct.price | number }}
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        <button type="button" class="btn btn-danger"  data-dismiss="modal" (click)=onDelete(clickedProduct._id)>Delete</button>
      </div>
    </div>
  </div>
</div>